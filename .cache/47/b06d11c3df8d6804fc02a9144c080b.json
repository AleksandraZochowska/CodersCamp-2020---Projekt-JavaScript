{"id":"kRvc","dependencies":[{"name":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\.babelrc","includedInParent":true,"mtime":1610917983423},{"name":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\package.json","includedInParent":true,"mtime":1610917983535},{"name":"@babel/runtime/regenerator","parent":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\engine.js","resolved":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\node_modules\\@babel\\runtime\\regenerator\\index.js"},{"name":"@babel/runtime/helpers/asyncToGenerator","parent":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\engine.js","resolved":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\node_modules\\@babel\\runtime\\helpers\\asyncToGenerator.js"},{"name":"@babel/runtime/helpers/classCallCheck","parent":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\engine.js","resolved":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\node_modules\\@babel\\runtime\\helpers\\classCallCheck.js"},{"name":"@babel/runtime/helpers/createClass","parent":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\engine.js","resolved":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\node_modules\\@babel\\runtime\\helpers\\createClass.js"},{"name":"regenerator-runtime/runtime","loc":{"line":1,"column":7},"parent":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\engine.js","resolved":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\node_modules\\regenerator-runtime\\runtime.js"},{"name":"./recognition.js","loc":{"line":3,"column":24},"parent":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\engine.js","resolved":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\recognition.js"},{"name":"./synthesis.js","loc":{"line":4,"column":27},"parent":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\engine.js","resolved":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\synthesis.js"},{"name":"./changeUI.js","loc":{"line":5,"column":21},"parent":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\engine.js","resolved":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\changeUI.js"},{"name":"./responder.js","loc":{"line":6,"column":22},"parent":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\engine.js","resolved":"D:\\Projekty\\CodersCamp-2020---Projekt-JavaScript\\src\\app\\responder.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=c(require(\"@babel/runtime/regenerator\")),n=c(require(\"@babel/runtime/helpers/asyncToGenerator\")),t=c(require(\"@babel/runtime/helpers/classCallCheck\")),i=c(require(\"@babel/runtime/helpers/createClass\"));require(\"regenerator-runtime/runtime\");var s=c(require(\"./recognition.js\")),r=c(require(\"./synthesis.js\")),a=c(require(\"./changeUI.js\")),o=c(require(\"./responder.js\"));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,t.default)(this,c),this.settings=e,this.recognition=null,this.assistantName=this.settings.name||\"krysia\"}return(0,i.default)(c,[{key:\"init\",value:function(){this.recognition=new s.default({lang:this.settings.lang}),this.synthesis=new r.default,this.changeUI=new a.default,this.responder=new o.default,this.startBtn(),this.listenLoop(),this.recognition.startRecognition()}},{key:\"startBtn\",value:function(){var e=this;document.querySelector(\".btnSpeak\").addEventListener(\"click\",function(){e.recognition.recording?e.synthesis.isTalking?e.synthesis.stopTalking():(e.recognition.stopRecording(),e.changeUI.stop()):(e.recognition.startRecording(),e.changeUI.record())})}},{key:\"listenLoop\",value:function(){var t=this;this.recognition.onRecognitionResult(function(){var i=(0,n.default)(e.default.mark(function n(i){var s;return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(\"stop\"!==i||!t.synthesis.isTalking){e.next=4;break}t.synthesis.stopTalking(),e.next=20;break;case 4:if(i!==t.assistantName||!1!==t.recognition.listening){e.next=10;break}t.recognition.listen(!0),t.changeUI.listen(),t.changeUI.removeLinksList(),e.next=20;break;case 10:if(i===t.assistantName||!0!==t.recognition.listening){e.next=20;break}return t.recognition.listen(!1),console.log(\"result: \".concat(i)),e.next=15,t.responder.respondTo(i);case 15:s=e.sent,console.log(\"answer: \".concat(s)),t.changeUI.speak(),t.synthesis.talk(s),t.synthesis.invokeAfterTalk(function(){t.changeUI.record()});case 20:case\"end\":return e.stop()}},n)}));return function(e){return i.apply(this,arguments)}}())}}]),c}();exports.default=u;"},"sourceMaps":{"js":{"mappings":[{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":0}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":13}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":20}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":35}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":43}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":56}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":57}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":64}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":68}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":76}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":89}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":91}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":95}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":97}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":99}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":107}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":138}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":140}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":142}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":150}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":194}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":196}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":198}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":206}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":248}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":250}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":252}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":260}},{"source":"src/app/engine.js","original":{"line":1,"column":0},"generated":{"line":1,"column":299}},{"source":"src/app/engine.js","original":{"line":1,"column":0},"generated":{"line":1,"column":307}},{"source":"src/app/engine.js","original":{"line":3,"column":0},"generated":{"line":1,"column":338}},{"source":"src/app/engine.js","original":{"line":3,"column":0},"generated":{"line":1,"column":342}},{"source":"src/app/engine.js","original":{"line":3,"column":0},"generated":{"line":1,"column":344}},{"source":"src/app/engine.js","original":{"line":3,"column":0},"generated":{"line":1,"column":346}},{"source":"src/app/engine.js","original":{"line":3,"column":0},"generated":{"line":1,"column":354}},{"source":"src/app/engine.js","original":{"line":4,"column":0},"generated":{"line":1,"column":375}},{"source":"src/app/engine.js","original":{"line":4,"column":0},"generated":{"line":1,"column":377}},{"source":"src/app/engine.js","original":{"line":4,"column":0},"generated":{"line":1,"column":379}},{"source":"src/app/engine.js","original":{"line":4,"column":0},"generated":{"line":1,"column":387}},{"source":"src/app/engine.js","original":{"line":5,"column":0},"generated":{"line":1,"column":406}},{"source":"src/app/engine.js","original":{"line":5,"column":0},"generated":{"line":1,"column":408}},{"source":"src/app/engine.js","original":{"line":5,"column":0},"generated":{"line":1,"column":410}},{"source":"src/app/engine.js","original":{"line":5,"column":0},"generated":{"line":1,"column":418}},{"source":"src/app/engine.js","original":{"line":6,"column":0},"generated":{"line":1,"column":436}},{"source":"src/app/engine.js","original":{"line":6,"column":0},"generated":{"line":1,"column":438}},{"source":"src/app/engine.js","original":{"line":6,"column":0},"generated":{"line":1,"column":440}},{"source":"src/app/engine.js","original":{"line":6,"column":0},"generated":{"line":1,"column":448}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":467}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":476}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":478}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":481}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":488}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":491}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":493}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":504}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":506}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":507}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":515}},{"source":"src/app/engine.js","name":"Engine","original":{"line":8,"column":21},"generated":{"line":1,"column":518}},{"source":"src/app/engine.js","name":"Engine","original":{"line":8,"column":21},"generated":{"line":1,"column":522}},{"source":"src/app/engine.js","name":"Engine","original":{"line":8,"column":21},"generated":{"line":1,"column":524}},{"source":"src/app/engine.js","original":{"line":9,"column":29},"generated":{"line":1,"column":535}},{"source":"src/app/engine.js","original":{"line":9,"column":29},"generated":{"line":1,"column":544}},{"source":"src/app/engine.js","name":"settings","original":{"line":9,"column":14},"generated":{"line":1,"column":548}},{"source":"src/app/engine.js","name":"settings","original":{"line":9,"column":14},"generated":{"line":1,"column":552}},{"source":"src/app/engine.js","original":{"line":9,"column":25},"generated":{"line":1,"column":554}},{"source":"src/app/engine.js","original":{"line":9,"column":25},"generated":{"line":1,"column":564}},{"source":"src/app/engine.js","original":{"line":9,"column":25},"generated":{"line":1,"column":571}},{"source":"src/app/engine.js","original":{"line":9,"column":25},"generated":{"line":1,"column":579}},{"source":"src/app/engine.js","original":{"line":9,"column":25},"generated":{"line":1,"column":583}},{"source":"src/app/engine.js","original":{"line":9,"column":25},"generated":{"line":1,"column":593}},{"source":"src/app/engine.js","original":{"line":9,"column":25},"generated":{"line":1,"column":596}},{"source":"src/app/engine.js","original":{"line":9,"column":25},"generated":{"line":1,"column":606}},{"source":"src/app/engine.js","original":{"line":9,"column":25},"generated":{"line":1,"column":609}},{"source":"src/app/engine.js","original":{"line":9,"column":29},"generated":{"line":1,"column":613}},{"source":"src/app/engine.js","original":{"line":9,"column":29},"generated":{"line":1,"column":615}},{"source":"src/app/engine.js","original":{"line":9,"column":29},"generated":{"line":1,"column":617}},{"source":"src/app/engine.js","original":{"line":9,"column":29},"generated":{"line":1,"column":626}},{"source":"src/app/engine.js","original":{"line":9,"column":29},"generated":{"line":1,"column":631}},{"source":"src/app/engine.js","name":"settings","original":{"line":10,"column":9},"generated":{"line":1,"column":634}},{"source":"src/app/engine.js","name":"settings","original":{"line":10,"column":9},"generated":{"line":1,"column":639}},{"source":"src/app/engine.js","name":"settings","original":{"line":10,"column":20},"generated":{"line":1,"column":648}},{"source":"src/app/engine.js","name":"recognition","original":{"line":11,"column":9},"generated":{"line":1,"column":650}},{"source":"src/app/engine.js","name":"recognition","original":{"line":11,"column":9},"generated":{"line":1,"column":655}},{"source":"src/app/engine.js","original":{"line":11,"column":23},"generated":{"line":1,"column":667}},{"source":"src/app/engine.js","name":"assistantName","original":{"line":12,"column":9},"generated":{"line":1,"column":672}},{"source":"src/app/engine.js","name":"assistantName","original":{"line":12,"column":9},"generated":{"line":1,"column":677}},{"source":"src/app/engine.js","original":{"line":12,"column":25},"generated":{"line":1,"column":691}},{"source":"src/app/engine.js","name":"settings","original":{"line":12,"column":30},"generated":{"line":1,"column":696}},{"source":"src/app/engine.js","name":"name","original":{"line":12,"column":39},"generated":{"line":1,"column":705}},{"source":"src/app/engine.js","original":{"line":12,"column":47},"generated":{"line":1,"column":711}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":720}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":727}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":729}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":731}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":740}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":742}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":743}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":744}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":748}},{"source":"src/app/engine.js","original":{"line":15,"column":9},"generated":{"line":1,"column":755}},{"source":"src/app/engine.js","original":{"line":15,"column":9},"generated":{"line":1,"column":761}},{"source":"src/app/engine.js","name":"recognition","original":{"line":16,"column":9},"generated":{"line":1,"column":772}},{"source":"src/app/engine.js","name":"recognition","original":{"line":16,"column":9},"generated":{"line":1,"column":777}},{"source":"src/app/engine.js","original":{"line":16,"column":23},"generated":{"line":1,"column":789}},{"source":"src/app/engine.js","name":"Recognition","original":{"line":16,"column":27},"generated":{"line":1,"column":793}},{"source":"src/app/engine.js","original":{"line":16,"column":23},"generated":{"line":1,"column":795}},{"source":"src/app/engine.js","original":{"line":16,"column":39},"generated":{"line":1,"column":803}},{"source":"src/app/engine.js","name":"lang","original":{"line":17,"column":6},"generated":{"line":1,"column":804}},{"source":"src/app/engine.js","original":{"line":17,"column":12},"generated":{"line":1,"column":809}},{"source":"src/app/engine.js","name":"settings","original":{"line":17,"column":17},"generated":{"line":1,"column":814}},{"source":"src/app/engine.js","name":"lang","original":{"line":17,"column":26},"generated":{"line":1,"column":823}},{"source":"src/app/engine.js","name":"synthesis","original":{"line":19,"column":9},"generated":{"line":1,"column":830}},{"source":"src/app/engine.js","name":"synthesis","original":{"line":19,"column":9},"generated":{"line":1,"column":835}},{"source":"src/app/engine.js","original":{"line":19,"column":21},"generated":{"line":1,"column":845}},{"source":"src/app/engine.js","name":"SpeakAssistant","original":{"line":19,"column":25},"generated":{"line":1,"column":849}},{"source":"src/app/engine.js","original":{"line":19,"column":21},"generated":{"line":1,"column":851}},{"source":"src/app/engine.js","name":"changeUI","original":{"line":20,"column":9},"generated":{"line":1,"column":859}},{"source":"src/app/engine.js","name":"changeUI","original":{"line":20,"column":9},"generated":{"line":1,"column":864}},{"source":"src/app/engine.js","original":{"line":20,"column":20},"generated":{"line":1,"column":873}},{"source":"src/app/engine.js","name":"ChangeUI","original":{"line":20,"column":24},"generated":{"line":1,"column":877}},{"source":"src/app/engine.js","original":{"line":20,"column":20},"generated":{"line":1,"column":879}},{"source":"src/app/engine.js","name":"responder","original":{"line":21,"column":9},"generated":{"line":1,"column":887}},{"source":"src/app/engine.js","name":"responder","original":{"line":21,"column":9},"generated":{"line":1,"column":892}},{"source":"src/app/engine.js","original":{"line":21,"column":21},"generated":{"line":1,"column":902}},{"source":"src/app/engine.js","name":"Responder","original":{"line":21,"column":25},"generated":{"line":1,"column":906}},{"source":"src/app/engine.js","original":{"line":21,"column":21},"generated":{"line":1,"column":908}},{"source":"src/app/engine.js","name":"startBtn","original":{"line":22,"column":9},"generated":{"line":1,"column":916}},{"source":"src/app/engine.js","name":"startBtn","original":{"line":22,"column":9},"generated":{"line":1,"column":921}},{"source":"src/app/engine.js","name":"listenLoop","original":{"line":23,"column":9},"generated":{"line":1,"column":932}},{"source":"src/app/engine.js","name":"listenLoop","original":{"line":23,"column":9},"generated":{"line":1,"column":937}},{"source":"src/app/engine.js","name":"recognition","original":{"line":24,"column":9},"generated":{"line":1,"column":950}},{"source":"src/app/engine.js","name":"recognition","original":{"line":24,"column":9},"generated":{"line":1,"column":955}},{"source":"src/app/engine.js","name":"startRecognition","original":{"line":24,"column":21},"generated":{"line":1,"column":967}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":988}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":989}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":993}},{"source":"src/app/engine.js","original":{"line":27,"column":13},"generated":{"line":1,"column":1004}},{"source":"src/app/engine.js","original":{"line":27,"column":13},"generated":{"line":1,"column":1010}},{"source":"src/app/engine.js","original":{"line":27,"column":13},"generated":{"line":1,"column":1021}},{"source":"src/app/engine.js","original":{"line":27,"column":13},"generated":{"line":1,"column":1025}},{"source":"src/app/engine.js","original":{"line":27,"column":13},"generated":{"line":1,"column":1027}},{"source":"src/app/engine.js","name":"document","original":{"line":28,"column":19},"generated":{"line":1,"column":1032}},{"source":"src/app/engine.js","name":"querySelector","original":{"line":28,"column":28},"generated":{"line":1,"column":1041}},{"source":"src/app/engine.js","original":{"line":28,"column":42},"generated":{"line":1,"column":1055}},{"source":"src/app/engine.js","name":"addEventListener","original":{"line":29,"column":11},"generated":{"line":1,"column":1068}},{"source":"src/app/engine.js","original":{"line":29,"column":28},"generated":{"line":1,"column":1085}},{"source":"src/app/engine.js","original":{"line":29,"column":37},"generated":{"line":1,"column":1093}},{"source":"src/app/engine.js","original":{"line":30,"column":12},"generated":{"line":1,"column":1104}},{"source":"src/app/engine.js","name":"recognition","original":{"line":30,"column":17},"generated":{"line":1,"column":1106}},{"source":"src/app/engine.js","name":"recording","original":{"line":30,"column":29},"generated":{"line":1,"column":1118}},{"source":"src/app/engine.js","original":{"line":33,"column":19},"generated":{"line":1,"column":1128}},{"source":"src/app/engine.js","name":"synthesis","original":{"line":33,"column":24},"generated":{"line":1,"column":1130}},{"source":"src/app/engine.js","name":"isTalking","original":{"line":33,"column":34},"generated":{"line":1,"column":1140}},{"source":"src/app/engine.js","original":{"line":34,"column":10},"generated":{"line":1,"column":1150}},{"source":"src/app/engine.js","name":"synthesis","original":{"line":34,"column":15},"generated":{"line":1,"column":1152}},{"source":"src/app/engine.js","name":"stopTalking","original":{"line":34,"column":25},"generated":{"line":1,"column":1162}},{"source":"src/app/engine.js","original":{"line":36,"column":10},"generated":{"line":1,"column":1177}},{"source":"src/app/engine.js","name":"recognition","original":{"line":36,"column":15},"generated":{"line":1,"column":1179}},{"source":"src/app/engine.js","name":"stopRecording","original":{"line":36,"column":27},"generated":{"line":1,"column":1191}},{"source":"src/app/engine.js","original":{"line":37,"column":10},"generated":{"line":1,"column":1207}},{"source":"src/app/engine.js","name":"changeUI","original":{"line":37,"column":15},"generated":{"line":1,"column":1209}},{"source":"src/app/engine.js","name":"stop","original":{"line":37,"column":24},"generated":{"line":1,"column":1218}},{"source":"src/app/engine.js","original":{"line":31,"column":10},"generated":{"line":1,"column":1227}},{"source":"src/app/engine.js","name":"recognition","original":{"line":31,"column":15},"generated":{"line":1,"column":1229}},{"source":"src/app/engine.js","name":"startRecording","original":{"line":31,"column":27},"generated":{"line":1,"column":1241}},{"source":"src/app/engine.js","original":{"line":32,"column":10},"generated":{"line":1,"column":1258}},{"source":"src/app/engine.js","name":"changeUI","original":{"line":32,"column":15},"generated":{"line":1,"column":1260}},{"source":"src/app/engine.js","name":"record","original":{"line":32,"column":24},"generated":{"line":1,"column":1269}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":1283}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":1284}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":1288}},{"source":"src/app/engine.js","original":{"line":42,"column":15},"generated":{"line":1,"column":1301}},{"source":"src/app/engine.js","original":{"line":42,"column":15},"generated":{"line":1,"column":1307}},{"source":"src/app/engine.js","original":{"line":42,"column":15},"generated":{"line":1,"column":1318}},{"source":"src/app/engine.js","original":{"line":42,"column":15},"generated":{"line":1,"column":1322}},{"source":"src/app/engine.js","original":{"line":42,"column":15},"generated":{"line":1,"column":1324}},{"source":"src/app/engine.js","name":"recognition","original":{"line":43,"column":9},"generated":{"line":1,"column":1329}},{"source":"src/app/engine.js","name":"recognition","original":{"line":43,"column":9},"generated":{"line":1,"column":1334}},{"source":"src/app/engine.js","name":"onRecognitionResult","original":{"line":43,"column":21},"generated":{"line":1,"column":1346}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":1366}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1377}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1381}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1384}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1386}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1388}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1397}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1399}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1407}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1412}},{"source":"src/app/engine.js","name":"result","original":{"line":43,"column":48},"generated":{"line":1,"column":1421}},{"source":"src/app/engine.js","name":"result","original":{"line":43,"column":48},"generated":{"line":1,"column":1423}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1426}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1430}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1432}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1439}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1441}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1449}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1454}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1463}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1466}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1473}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1480}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1482}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1487}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1489}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1495}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1500}},{"source":"src/app/engine.js","name":"result","original":{"line":44,"column":10},"generated":{"line":1,"column":1502}},{"source":"src/app/engine.js","original":{"line":44,"column":21},"generated":{"line":1,"column":1505}},{"source":"src/app/engine.js","name":"result","original":{"line":44,"column":10},"generated":{"line":1,"column":1514}},{"source":"src/app/engine.js","original":{"line":44,"column":31},"generated":{"line":1,"column":1518}},{"source":"src/app/engine.js","name":"synthesis","original":{"line":44,"column":36},"generated":{"line":1,"column":1520}},{"source":"src/app/engine.js","name":"isTalking","original":{"line":44,"column":46},"generated":{"line":1,"column":1530}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1540}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1541}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1543}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1548}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1550}},{"source":"src/app/engine.js","original":{"line":45,"column":8},"generated":{"line":1,"column":1556}},{"source":"src/app/engine.js","name":"synthesis","original":{"line":45,"column":13},"generated":{"line":1,"column":1558}},{"source":"src/app/engine.js","name":"stopTalking","original":{"line":45,"column":23},"generated":{"line":1,"column":1568}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1582}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1584}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1589}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1592}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1598}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1603}},{"source":"src/app/engine.js","name":"result","original":{"line":46,"column":17},"generated":{"line":1,"column":1605}},{"source":"src/app/engine.js","name":"result","original":{"line":46,"column":17},"generated":{"line":1,"column":1608}},{"source":"src/app/engine.js","original":{"line":46,"column":28},"generated":{"line":1,"column":1612}},{"source":"src/app/engine.js","name":"assistantName","original":{"line":46,"column":33},"generated":{"line":1,"column":1614}},{"source":"src/app/engine.js","original":{"line":46,"column":81},"generated":{"line":1,"column":1630}},{"source":"src/app/engine.js","original":{"line":46,"column":50},"generated":{"line":1,"column":1634}},{"source":"src/app/engine.js","name":"recognition","original":{"line":46,"column":55},"generated":{"line":1,"column":1636}},{"source":"src/app/engine.js","name":"listening","original":{"line":46,"column":67},"generated":{"line":1,"column":1648}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1658}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1659}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1661}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1666}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1669}},{"source":"src/app/engine.js","original":{"line":47,"column":8},"generated":{"line":1,"column":1675}},{"source":"src/app/engine.js","name":"recognition","original":{"line":47,"column":13},"generated":{"line":1,"column":1677}},{"source":"src/app/engine.js","name":"listen","original":{"line":47,"column":25},"generated":{"line":1,"column":1689}},{"source":"src/app/engine.js","original":{"line":47,"column":32},"generated":{"line":1,"column":1697}},{"source":"src/app/engine.js","original":{"line":48,"column":8},"generated":{"line":1,"column":1700}},{"source":"src/app/engine.js","name":"changeUI","original":{"line":48,"column":13},"generated":{"line":1,"column":1702}},{"source":"src/app/engine.js","name":"listen","original":{"line":48,"column":22},"generated":{"line":1,"column":1711}},{"source":"src/app/engine.js","original":{"line":49,"column":8},"generated":{"line":1,"column":1720}},{"source":"src/app/engine.js","name":"changeUI","original":{"line":49,"column":13},"generated":{"line":1,"column":1722}},{"source":"src/app/engine.js","name":"removeLinksList","original":{"line":49,"column":22},"generated":{"line":1,"column":1731}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1749}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1751}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1756}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1759}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1765}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1770}},{"source":"src/app/engine.js","name":"result","original":{"line":50,"column":17},"generated":{"line":1,"column":1773}},{"source":"src/app/engine.js","name":"result","original":{"line":50,"column":17},"generated":{"line":1,"column":1776}},{"source":"src/app/engine.js","original":{"line":50,"column":28},"generated":{"line":1,"column":1780}},{"source":"src/app/engine.js","name":"assistantName","original":{"line":50,"column":33},"generated":{"line":1,"column":1782}},{"source":"src/app/engine.js","original":{"line":50,"column":81},"generated":{"line":1,"column":1798}},{"source":"src/app/engine.js","original":{"line":50,"column":50},"generated":{"line":1,"column":1802}},{"source":"src/app/engine.js","name":"recognition","original":{"line":50,"column":55},"generated":{"line":1,"column":1804}},{"source":"src/app/engine.js","name":"listening","original":{"line":50,"column":67},"generated":{"line":1,"column":1816}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1826}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1827}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1829}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1834}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1837}},{"source":"src/app/engine.js","original":{"line":53,"column":27},"generated":{"line":1,"column":1843}},{"source":"src/app/engine.js","original":{"line":51,"column":8},"generated":{"line":1,"column":1850}},{"source":"src/app/engine.js","name":"recognition","original":{"line":51,"column":13},"generated":{"line":1,"column":1852}},{"source":"src/app/engine.js","name":"listen","original":{"line":51,"column":25},"generated":{"line":1,"column":1864}},{"source":"src/app/engine.js","original":{"line":51,"column":32},"generated":{"line":1,"column":1872}},{"source":"src/app/engine.js","name":"console","original":{"line":52,"column":8},"generated":{"line":1,"column":1875}},{"source":"src/app/engine.js","name":"log","original":{"line":52,"column":16},"generated":{"line":1,"column":1883}},{"source":"src/app/engine.js","name":"result","original":{"line":52,"column":31},"generated":{"line":1,"column":1887}},{"source":"src/app/engine.js","name":"result","original":{"line":52,"column":31},"generated":{"line":1,"column":1898}},{"source":"src/app/engine.js","name":"result","original":{"line":52,"column":31},"generated":{"line":1,"column":1905}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1909}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1911}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1916}},{"source":"src/app/engine.js","original":{"line":53,"column":27},"generated":{"line":1,"column":1919}},{"source":"src/app/engine.js","name":"responder","original":{"line":53,"column":32},"generated":{"line":1,"column":1921}},{"source":"src/app/engine.js","name":"respondTo","original":{"line":53,"column":42},"generated":{"line":1,"column":1931}},{"source":"src/app/engine.js","name":"result","original":{"line":53,"column":52},"generated":{"line":1,"column":1941}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1944}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1949}},{"source":"src/app/engine.js","name":"answer","original":{"line":53,"column":12},"generated":{"line":1,"column":1952}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1954}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":1956}},{"source":"src/app/engine.js","name":"console","original":{"line":54,"column":8},"generated":{"line":1,"column":1961}},{"source":"src/app/engine.js","name":"log","original":{"line":54,"column":16},"generated":{"line":1,"column":1969}},{"source":"src/app/engine.js","name":"answer","original":{"line":54,"column":31},"generated":{"line":1,"column":1973}},{"source":"src/app/engine.js","name":"answer","original":{"line":54,"column":31},"generated":{"line":1,"column":1984}},{"source":"src/app/engine.js","name":"answer","original":{"line":54,"column":31},"generated":{"line":1,"column":1991}},{"source":"src/app/engine.js","original":{"line":55,"column":8},"generated":{"line":1,"column":1995}},{"source":"src/app/engine.js","name":"changeUI","original":{"line":55,"column":13},"generated":{"line":1,"column":1997}},{"source":"src/app/engine.js","name":"speak","original":{"line":55,"column":22},"generated":{"line":1,"column":2006}},{"source":"src/app/engine.js","original":{"line":56,"column":8},"generated":{"line":1,"column":2014}},{"source":"src/app/engine.js","name":"synthesis","original":{"line":56,"column":13},"generated":{"line":1,"column":2016}},{"source":"src/app/engine.js","name":"talk","original":{"line":56,"column":23},"generated":{"line":1,"column":2026}},{"source":"src/app/engine.js","name":"answer","original":{"line":56,"column":28},"generated":{"line":1,"column":2031}},{"source":"src/app/engine.js","original":{"line":57,"column":8},"generated":{"line":1,"column":2034}},{"source":"src/app/engine.js","name":"synthesis","original":{"line":57,"column":13},"generated":{"line":1,"column":2036}},{"source":"src/app/engine.js","name":"invokeAfterTalk","original":{"line":57,"column":23},"generated":{"line":1,"column":2046}},{"source":"src/app/engine.js","original":{"line":57,"column":39},"generated":{"line":1,"column":2062}},{"source":"src/app/engine.js","original":{"line":58,"column":10},"generated":{"line":1,"column":2073}},{"source":"src/app/engine.js","name":"changeUI","original":{"line":58,"column":15},"generated":{"line":1,"column":2075}},{"source":"src/app/engine.js","name":"record","original":{"line":58,"column":24},"generated":{"line":1,"column":2084}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":2095}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":2100}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":2103}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":2107}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":2113}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":2120}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":2122}},{"source":"src/app/engine.js","original":{"line":43,"column":41},"generated":{"line":1,"column":2131}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":2137}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":2144}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":2153}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":2156}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":2163}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":2165}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":2171}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":2176}},{"source":"src/app/engine.js","original":{"line":43,"column":4},"generated":{"line":1,"column":2188}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":2196}},{"source":"src/app/engine.js","name":"Engine","original":{"line":8,"column":21},"generated":{"line":1,"column":2198}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":2201}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":2209}},{"source":"src/app/engine.js","original":{"line":62,"column":3},"generated":{"line":1,"column":2217}}],"sources":{"src/app/engine.js":"import 'regenerator-runtime/runtime'; //Parcel async/await\r\n\r\nimport Recognition from './recognition.js';\r\nimport SpeakAssistant from './synthesis.js';\r\nimport ChangeUI from './changeUI.js';\r\nimport Responder from './responder.js';\r\n\r\nexport default class Engine {\r\n  constructor(settings = {}) {\r\n    this.settings = settings;\r\n    this.recognition = null;\r\n    this.assistantName = this.settings.name || \"krysia\";\r\n  }\r\n\r\n  init() {\r\n    this.recognition = new Recognition({\r\n      lang: this.settings.lang,\r\n    });\r\n    this.synthesis = new SpeakAssistant();\r\n    this.changeUI = new ChangeUI();\r\n    this.responder = new Responder();\r\n    this.startBtn();\r\n    this.listenLoop();\r\n    this.recognition.startRecognition();\r\n  }\r\n\r\n  startBtn() {\r\n    const button = document.querySelector('.btnSpeak');\r\n    button.addEventListener('click', () => {\r\n        if(!this.recognition.recording){\r\n          this.recognition.startRecording();\r\n          this.changeUI.record();\r\n        } else if (this.synthesis.isTalking){\r\n          this.synthesis.stopTalking();\r\n        } else {\r\n          this.recognition.stopRecording();\r\n          this.changeUI.stop();\r\n        }\r\n    })\r\n  }\r\n\r\n  listenLoop() {\r\n    this.recognition.onRecognitionResult(async (result) => {\r\n      if (result === \"stop\" && this.synthesis.isTalking) {\r\n        this.synthesis.stopTalking();\r\n      } else if (result === this.assistantName && this.recognition.listening === false) {\r\n        this.recognition.listen(true);\r\n        this.changeUI.listen();\r\n        this.changeUI.removeLinksList();\r\n      } else if (result !== this.assistantName && this.recognition.listening === true) {\r\n        this.recognition.listen(false);\r\n        console.log(`result: ${result}`);\r\n        let answer = await this.responder.respondTo(result);\r\n        console.log(`answer: ${answer}`);\r\n        this.changeUI.speak();\r\n        this.synthesis.talk(answer);\r\n        this.synthesis.invokeAfterTalk(() => {\r\n          this.changeUI.record();\r\n        });\r\n      }\r\n    });\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"30347bf5c837a93ef67f04772d20a8f4","cacheData":{"env":{}}}